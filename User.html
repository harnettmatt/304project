<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<?php

// Defined as constants so that they can't be changed
DEFINE ('DB_USER', 'cs310');
DEFINE ('DB_PASSWORD', 'cs310pass');
DEFINE ('DB_HOST', 'cs310moviedb.cmtryuplfrbx.us-west-2.rds.amazonaws.com:3306');
DEFINE ('DB_NAME', 'cs310moviedb');

// $dbc will contain a resource link to the database
// @ keeps the error from showing in the browser

$dbc = @mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME)
OR die('Could not connect to MySQL: ' .
mysqli_connect_error());

$query = "SELECT ID, FirstName, LastName, Phone FROM Accounts";
// Get a response from the database by sending the connection
// and the query $response = @mysqli_query($dbc, $query);
// If the query executed properly proceed

if($response){ echo '<table align="left"
cellspacing="5" cellpadding="8">
<tr><td align="left"><b>ID</b></td>
    <td align="left"><b>Fname</b></td>
    <td align="left"><b>Lname</b></td>
    <td align="left"><b>phone</b></td></tr>

    // mysqli_fetch_array will return a row of data from the query
    // until no further data is available

    while($row = mysqli_fetch_array($response)){
    echo '<tr><td align="left">' .
    $row['ID'] . '</td><td align="left">' .
    $row['FName'] . '</td><td align="left">' .
    $row['Lname'] . '</td><td align="left">' .
    $row['phone'] . '</td><td align="left">' .

    echo '</tr>'; }
echo '</table>'; }

else {
echo "Couldn't issue database query<br />";
echo mysqli_error($dbc); }

?>

</body>
</html>


